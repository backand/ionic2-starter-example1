<ion-navbar *navbar>
    <ion-title>Login</ion-title>
</ion-navbar>

<ion-content padding class="page1">
    <h2>Authentication</h2>

    <div>
        <label *ngIf="auth_status == 'OK'"><button ion-button (click)="signOut()" color="error">Sign Out</button>{{loggedInUser}}</label>
    </div>

    <div>
        <label>Choose authentication type:</label>
    </div>

    <ion-list>

        <ion-item>
            <ion-label floating>Username</ion-label>
            <ion-input type="text" [value]="username" (input)="username = $event.target.value"></ion-input>
        </ion-item>

        <ion-item>
            <ion-label floating>Password</ion-label>
            <ion-input  [value]="password" (input)="password = $event.target.value" type="password"></ion-input>
        </ion-item>

    </ion-list>

    <button ion-button (click)="getAuthTokenSimple()" color="success">Token Auth</button>
    <button ion-button (click)="useAnonymousAuth()" color="danger">Anonymous Auth</button>
    <br/>
    <label>Using {{auth_type}} authentication</label>
    <div>
        <label [class.alert]="is_auth_error" [class.alert-danger]="is_auth_error">{{auth_status}}</label>
    </div>
    

    <hr/>
    <h2>Change Password</h2>
    <ion-list>
        <ion-item>
            <ion-label floating>Old Password</ion-label>
            <ion-input type="password" [value]="oldPassword" (input)="oldPassword = $event.target.value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>New Password</ion-label>
            <ion-input type="password" [value]="newPassword" (input)="newPassword = $event.target.value"></ion-input>
        </ion-item>
        <ion-item>
            <ion-label floating>Confirm Password</ion-label>
            <ion-input type="password" [value]="confirmNewPassword" (input)="confirmNewPassword = $event.target.value"></ion-input>
        </ion-item>


        <button ion-button (click)="changePassword()" color="success">Change Password</button>

    </ion-list>

</ion-content>
